{% extends "base.html" %}

{% block title %}{% block timesheet_title %}Timesheet{% endblock %} - FamilyHub{% endblock %}

{% block extra_css %}
{{ block.super }}
<style>
    /* Timesheet-specific styles for integrated FamilyHub */
    .timesheet-header {
        background: rgba(102, 126, 234, 0.1);
        border-radius: 10px;
        padding: 1rem;
        margin-bottom: 1.5rem;
    }
    
    .timesheet-card {
        border-left: 4px solid var(--primary);
    }
    
    .time-entry-form {
        background: rgba(246, 248, 250, 0.8);
        border-radius: 8px;
        padding: 1.5rem;
    }
    
    .job-badge {
        background: var(--primary-gradient);
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 15px;
        font-size: 0.875rem;
    }
    
    .weekly-summary {
        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
        border-radius: 10px;
        padding: 1.5rem;
    }
    
    /* Override timesheet app styles for better FamilyHub integration */
    .card.timesheet-card {
        box-shadow: 0 2px 10px rgba(102, 126, 234, 0.1);
    }
    
    .btn-timesheet-primary {
        background: var(--primary-gradient);
        border: none;
        color: white;
    }
    
    .btn-timesheet-primary:hover {
        background: linear-gradient(135deg, #5a6fd8 0%, #6b4490 100%);
        color: white;
        transform: translateY(-1px);
    }
</style>
{% endblock %}

{% block content %}
<div class="timesheet-header">
    <div class="row align-items-center">
        <div class="col">
            <h2 class="mb-0">
                <i class="bi bi-clock me-2"></i>
                {% block timesheet_page_title %}Timesheet{% endblock %}
            </h2>
            <p class="text-muted mb-0">
                {% block timesheet_subtitle %}Track your time efficiently{% endblock %}
            </p>
        </div>
        <div class="col-auto">
            {% block timesheet_actions %}
            {% endblock %}
        </div>
    </div>
</div>

{% block timesheet_content %}
<!-- Original timesheet content will be loaded here -->
{% endblock %}
{% endblock %}

{% block extra_js %}
{{ block.super }}
<script>
    // Timesheet-specific JavaScript for FamilyHub integration
    document.addEventListener('DOMContentLoaded', function() {
        // Add FamilyHub-specific enhancements
        const timesheetCards = document.querySelectorAll('.card');
        timesheetCards.forEach(card => {
            if (!card.classList.contains('timesheet-card')) {
                card.classList.add('timesheet-card');
            }
        });
        
        // Update primary buttons to use FamilyHub styling
        const primaryButtons = document.querySelectorAll('.btn-primary');
        primaryButtons.forEach(btn => {
            if (!btn.classList.contains('btn-timesheet-primary')) {
                btn.classList.remove('btn-primary');
                btn.classList.add('btn-timesheet-primary');
            }
        });
        
        console.log('Timesheet integrated with FamilyHub successfully');
    });
</script>
{% endblock %}
